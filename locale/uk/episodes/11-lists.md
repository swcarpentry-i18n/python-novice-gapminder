---
title: Списки
teaching: 10
exercises: 10
---

::::::::::::::::::::::::::::::::::::::: objectives

- Пояснити, чому програми потрібні колекції значень.
- Писати програми, що створюють пласкі списки, індексувати їх, розрізають і змінюють їх через присвоєння і методи.

::::::::::::::::::::::::::::::::::::::::::::::::::

::::::::::::::::::::::::::::::::::::::::::::: питань

- Як зберігати декілька значень?

::::::::::::::::::::::::::::::::::::::::::::::::::

## Список зберігає багато значень в одній структурі.

- Для розрахунків з сотнею змінних, які називаються `pressure_001`, `pressure_002` і т. д.,
  буде щонайменше так само повільно, як виконувати їх.
- Використовуйте _список_ для зберігання багатьох значень разом.
  - Містить всередині квадратних дужок `[...]`.
  - Значення розділені комами `,`.
- Використайте `len`, щоб дізнатись, скільки значення є у списку.

```python
тиски = [0.273, 0.275, 0.277, 0.275, 0.276]
print('pressures:', presres)
print('length:', len(pressures))
```

```output
пресив: [0.273, 0.275, 0.277, 0.275, 0.276]
довжина: 5
```

## Використайте індекс товару, щоб отримати його зі списку.

- Так само як і рядки.

```python
print('нульовий елемент пресури:', pressures[0])
print('четвертий елемент ймовірності:', тиск[4])
```

```output
zeroth item of pressures: 0.273
fourth item of pressures: 0.276
```

## Значення списків можна замінити на призначення для них.

- Використовуйте індексний вираз зліва від призначення для заміни значення.

```python
тиск[0] = 0.265
print('тиск зараз:', pressures)
```

```output
тиск зараз: [0.265, 0.275, 0.277, 0.275, 0.275, 0.276]
```

## Додавання елементів до списку довжина.

- Використовуйте `list_name.append`, щоб додати елементи до кінця списку.

```python
primes = [2, 3, 5]
print('primes ініціалі:', primes)
primes.append(7)
print('primes become:', primes)
```

```output
primes initially: [2, 3, 5]
простих чисел стали: [2, 3, 5, 7]
```

- `append` є _методом_ списків.
  - Як функція, але пов'язана з певним об'єктом.
- Використовуйте `object_name.method_name` для виклику методів.
  - Досить схожим на те, як ми посилаємось на речі в бібліотеці.
- Ми будемо відповідати іншим методам списків, коли будемо йти.
  - Використовуйте `help(list)` для попереднього перегляду.
- `extend` схожий на `додавання`, але він дозволяє поєднати два списки.  Наприклад:

```python
teen_primes = [11, 13, 17, 19]
middle_aged_primes = [37, 41, 43, 47]
print('primes в даний час:', primes)
простих. xtend(teen_primes)
print('prim тепер вийшло:', primes)
primes.append(middle_aged_primes)
print('primes нарешті став e:', primes)
```

```output
primes is currently: [2, 3, 5, 7]
primes has now become: [2, 3, 5, 7, 11, 13, 17, 19]
primes has finally become: [2, 3, 5, 7, 11, 13, 17, 19, [37, 41, 43, 47]]
```

Зверніть увагу, що при «extend» обслуговує структуру «flat» списку додавання списку означає
останній елемент у списку "primes" сам буде списком, а не цілим. Списки можуть містити значення будь-якого типу
; отже, можливі списки сторінок.

## Використовуйте `del`, щоб повністю видалити елементи зі списку.

- Ми використовуємо `del list_name[index]`, щоб прибрати елемент зі списку (в прикладі 9 не є простим числом) і тому його скорочує.
- `del` не є функцією чи методом, а твердженням з мовою.

```python
primes = [2, 3, 5, 7, 9]
print('primes before remove last item:', primes)
del primes[4]
print('primes після видалення останнього елемента:', primes)
```

```output
primes before removing last item: [2, 3, 5, 7, 9]
primes after removing last item: [2, 3, 5, 7]
```

## Порожній список не містить значень.

- Використовуйте `[]` для відображення списку, який не містить жодних значень.
  - "нуль списків."
- У якості відправної точки для збору значень
  (яку ми побачимо в [наступному серії](12-for-loops.md)).

## Списки можуть містити значення різних типів.

- Один список може містити цифри, рядки і т.д.

```python
цілі = [1, 'Створити списки.', 2, 'Видобути елементи зі списків.', 3, 'Змінити списки.']
```

## Рядки символів можуть бути індексовані як списки.

- Отримайте одинарні символи з символьної стрічки, використовуючи індекси у квадратних дужках.

```python
element = 'carbon'
print('нульовий символ:', element[0])
print('третій символ:', element[3])
```

```output
нульовий символ: c
третій символ: b
```

## Рядки символів незмінні.

- Не можна змінити символи в рядку після того, як вони були створені.
  - _Незмінний_: не можна змінити після створення.
  - Навпаки, списки _вимкнені_: їх можна змінити на місці.
- Python розглядає рядок як одне значення з частинами,
  не є набором значень.

```python
element[0] = 'C'
```

```error
Typee: об'єкт 'str' не підтримує призначення елементу
```

- Списки і рядки символів обидва _колекції_.

## Індексування за межами колекції — помилка.

- Python повідомляє про `IndexError`, якщо спробуємо отримати доступ до значення, яке не існує.
  - Це своєрідна [помилка під час роботи](04-built-in.md).
  - Не може бути виявлено, оскільки код оброблений
    оскільки індекс може бути розрахований на основі даних.

```python
print('99-ий елемент елементу is:', element[99]
```

```output
IndexError: індекс рядка поза діапазоном
```

:::::::::::::::::::::::::::::::::::::::::::: виклик

## Заповніть пробірки

Заповніть пропуски так, щоб програма нижче виробляла вихідний продукт.

```python
values = __
values.__(1)
значень.__(3)
значень.__(5)
print('first time:', values)
значення = значення = значення[____]
print('second time:', values)
```

```output
first time: [1, 3, 5]
second time: [3, 5]
```

:::::::::::::::::::: Рішення

## Розв'язок

```python
values = [] []
values.append(1)
values.append(3)
values.append(5)
print('first time:', values)
значення = values[1:]
print('second time:', values)
```

:::::::::::::::::::::::::

::::::::::::::::::::::::::::::::::::::::::::::::::

:::::::::::::::::::::::::::::::::::::::::::: виклик

## Як велика секція?

Якщо `start` і `stop` є від'ємними цілими,
довжина списку `values[start:stop:]`?

:::::::::::::::::::: Рішення

## Розв'язок

Список `values[start:stop]` має до `stop - початківців`.  Наприклад,
`values[1:4]` має 3 елементи `values[1]`, `values[2]`, and `values[3]`.
Чому "до"? As we saw in [episode 2](02-variables.md),
if `stop` is greater than the total length of the list `values`,
we will still get a list back but it will be shorter than expected.

:::::::::::::::::::::::::

::::::::::::::::::::::::::::::::::::::::::::::::::

:::::::::::::::::::::::::::::::::::::::::::: виклик

## Від рядків до списків і назад

Внаслідок цього:

```python
print('string to list:', list('tin'))
print('list to string:', ''.join(['g', 'o', 'l', 'd']))
```

```output
рядок до списку: ['t', 'i', 'n']
список для рядка: золото
```

1. Що робить `list('деякі рядки ')` ?
2. Що робить `'-'.join(['x', 'y', 'z'])` генерацією?

:::::::::::::::::::: Рішення

## Розв'язок

1. [`list('деякі рядки')`](https://docs.python.org/3/library/stdtypes.html#list) перетворює рядок на список, що містить усі свої символи.

2. [`join`](https\://docs.python.org/3/library/stdtypes.html#str. oin) повертає рядок, який є _конатацією_
   кожного елементу рядка у списку і додає роздільник між кожним елементом у списку. Це дає результати
   `x-y-z`. Роздільник між елементами - це рядок, що забезпечує цей метод.

:::::::::::::::::::::::::

::::::::::::::::::::::::::::::::::::::::::::::::::

:::::::::::::::::::::::::::::::::::::::::::: виклик

## Робота з Ендом

Що робить друк наступної програми?

```python
елемент = 'helium'
print(елемент[-1])
```

1. Як Python інтерпретує негативний індекс?
2. Якщо список або рядок має N елементів,
   який є найбільш негативним індексом, який може безпечно використовуватися з ним,
   і яке розташування представляють цей індекс?
3. Якщо `values` - це список, що робиться з `del values[-1]`?
4. Як можна показати всі елементи, але останні без зміни `значень`?
   (Підказка: необхідно буде об'єднати фрагмент з файловою системою.)

:::::::::::::::::::: Рішення

## Розв'язок

Програма друкує `m`.

1. Python інтерпретує від'ємний індекс, починаючи з кінця (на відміну від
   починаючи з початку).  Останній елемент - `-1`.

2. Останній індекс, який можна безпечно використовувати зі списком N елементів - це елемент
   `-N`, який представляє перший елемент.

3. `значення[-1]` видаляє останній елемент зі списку.

4. `значень[:-1]`

:::::::::::::::::::::::::

::::::::::::::::::::::::::::::::::::::::::::::::::

:::::::::::::::::::::::::::::::::::::::::::: виклик

## Крокувати через список

Що робить друк наступної програми?

```python
element = 'fluorine'
print(element[:2])
print(element[:-1])
```

1. Якщо ми напишемо фрагмент як `low:high:stride`, що ж таке `stride` ?
2. Яким виразом буде вибір всіх елементів на рівну кількість разів із колекції?

:::::::::::::::::::: Рішення

## Розв'язок

Друк програми

```python
фурнінг
eniroulf
```

1. `stride` - розмір кроку фрагмента.

2. The slice `1::2` selects all even-numbered items from a collection: it starts
   with element `1` (which is the second element, since indexing starts at `0`),
   goes on until the end (since no `end` is given), and uses a step size of `2`
   (i.e., selects every second element).

:::::::::::::::::::::::::

::::::::::::::::::::::::::::::::::::::::::::::::::

:::::::::::::::::::::::::::::::::::::::::::: виклик

## Слейс Баундс

Що робить друк наступної програми?

```python
element = 'lithium'
print(element[0:20])
print(element[-1:3]) )
```

:::::::::::::::::::: Рішення

## Розв'язок

```output
lithium

```

Перше твердження надрукує весь рядок, оскільки фрагмент виходить за межі загальної довжини рядка.
У другій умові повертає пустий рядок, тому що він іде з "поза межами" рядка.

:::::::::::::::::::::::::

::::::::::::::::::::::::::::::::::::::::::::::::::

:::::::::::::::::::::::::::::::::::::::::::: виклик

## Сортувати та відсортувати

Що потрібно зробити з двома програмами?
У простих термінах поясніть різницю між `sorted(letters)` та `letters.sort()`.

```python
# Program A
letters = list('gold')
result = sorted(letters)
print('letters is', letters, 'і' і результу)
```

```python
# Program B
letters = list('gold')
результат = letters.sort()
print('letters is', letters, 'і' і результу)
```

:::::::::::::::::::: Рішення

## Розв'язок

Програма друк

```output
буквами є ['g', 'o', 'l', 'd'] та результат - ['d', 'g', 'l', 'o']
```

Програма B друк

```output
букви ['d', 'g', 'l', 'o'] а результат - немає
```

`sorted(letters)` повертає відсортовану копію списку `letters` (оригінал
список `letters` залишається незмінним), в той час як `letters. ort()` сортує список
`letters` всередині та не повертає нічого.

:::::::::::::::::::::::::

::::::::::::::::::::::::::::::::::::::::::::::::::

:::::::::::::::::::::::::::::::::::::::::::: виклик

## Копіювання (чи ні)

Що потрібно зробити з двома програмами?
В простих термінах, поясніть різницю між `new = old` і `new = старий[:]`.

```python
# Program A
old = list('gold')
new = old      # simple assignment
new[0] = 'D'
print('new is', new, 'and old is', old)
```

```python
# Program B
old = list('gold')
new = old[:]   # assigning a slice
new[0] = 'D'
print('new is', new, 'and old is', old)
```

:::::::::::::::::::: Рішення

## Розв'язок

Програма друк

```output
новим є ['D', 'o', 'l', 'd'] і старим ['D', 'o', 'l', 'd']
```

Програма B друк

```output
новим є ['D', 'o', 'l', 'd'] і старим ['g', 'o', 'l', 'd']
```

`new = старий` робить `new` посилання на список `old`; `new` і `old` точку
в напрямку того ж об’єкта.

`new = старий[:]`проте створює новий об’єкт списку `new`, що містить всі елементи
зі списку `старий`; `new` і `старий` - різні об'єкти.

:::::::::::::::::::::::::

::::::::::::::::::::::::::::::::::::::::::::::::::

:::::::::::::::::::::::::::::::::::::::: keypoints

- Список зберігає багато значень в одній структурі.
- Використайте індекс товару, щоб отримати його зі списку.
- Значення списків можна замінити на призначення для них.
- Додавання елементів до списку довжина.
- Використовуйте `del`, щоб повністю видалити елементи зі списку.
- Порожній список не містить значень.
- Списки можуть містити значення різних типів.
- Рядки символів можуть бути індексовані як списки.
- Рядки символів незмінні.
- Індексування за межами колекції — помилка.

::::::::::::::::::::::::::::::::::::::::::::::::::
