---
title: Перетворення даних і типів
teaching: 10
exercises: 10
---

::::::::::::::::::::::::::::::::::::::: objectives

- Поясніть ключові відмінності між цілими і плаваючими точками чисел.
- Поясніть ключові відмінності між числами та символьними рядками.
- Використовуйте вбудовані функції для перетворення між цілими числами, десятковими значеннями та рядками.

::::::::::::::::::::::::::::::::::::::::::::::::::

::::::::::::::::::::::::::::::::::::::::::::: питань

- Які види даних зберігає програми?
- Як я можу перевести один тип в інший?

::::::::::::::::::::::::::::::::::::::::::::::::::

## Кожне значення має тип.

- Кожне значення програми має конкретний тип.
- Ціле число (`int`): означає додатні чи від'ємні числа, такі як 3 або -512.
- Число з рухомою комою (`float`): відображає дійсні числа, такі як 3.14159 або -2.5.
- Символ рядка (зазвичай називається "string", `str`): текст.
  - Записано в одинарних лапках або подвійних лапок (поки вони співпадають).
  - Лапки не надруковані при відображенні рядка.

## Використайте вбудовану функцію `type`, щоб знайти тип значення.

- Використайте вбудовану функцію `type`, щоб дізнатись, який тип має значення.
- Працює також і для змінних.
  - Але пам'ятайте: \* значення \* має тип --- \* змінна \* - це просто ярлик.

```python
print(type(52))
```

```output
<class 'int'>
```

```python
фітнес = 'середня'
print(type(fitness))
```

```output
<class 'str'>
```

## Види визначають, які операції (або методи) можуть бути виконані в заданому значенні.

- Тип значення визначає те, що програма може зробити з нею.

```python
print(5 - 3)
```

```output
2
```

```python
print('hello' - 'h')
```

```error
---------------------------------------------------------------------------
TypeError Traceback (останній виклик останній)
<ipython-input-2-67f5626a1e07> в <module>()
----> 1 print('hello' - 'h')

TypeError: Непідтримуваний оператор і тип(и) для -: 'str' та 'str'
```

## Ви можете використовувати оператори "+" та "\*" у рядках.

- Добавляємо" рядки символів об'єднують їх.

```python
full_name = 'Ahmed' + ' + 'Walsh'
print(full_name)
```

```output
Ахмед Волш
```

- Множення символьного рядка на ціле _N_ створює новий рядок, який складається з вказаного символьного рядка, повторюється _N_ разів.
  - Оскільки множення повторюється.

```python
separator = '=' * 10
print(separator)
```

```output
==========
```

## Рядки мають довжину (але цифри не тоні).

- Вбудована функція `len` рахує кількість символів у рядку.

```python
print(len(full_name))
```

```output
11
```

- Але числа не мають довжини (не навіть нуль).

```python
print(len(52))
```

```error
---------------------------------------------------------------------------
TypeError Traceback (останній виклик
<ipython-input-3-f769e8e8097d> в <module>()
----> 1 print(52))

Type: об'єкт типу 'int' не має len()
```

## Необхідно перетворити числа в рядки або навпаки. {#convert-numbers-and-strings}

- Неможливо додати номери і рядки.

```python
print(1 + '2')
```

```error
---------------------------------------------------------------------------
TypeError Traceback (останній виклик останній)
<ipython-input-4-fe4f54a023c6> в <module>()
----> 1 print(1 + '2')

Type: непідтримуваний оператор і тип(и) для +: 'int' та 'str'
```

- Не допустимо, бо це двозначно: чи має `1 + '2'` бути `3` чи `12'`?
- Деякі типи можна перетворити в інші типи, використовуючи назву типу в якості функції.

```python
print(1 + int('2'))
print(str(1) + '2')
```

```output
3
12
```

## Дозволяє вільно змішувати цілі числа і плавати в операціях.

- Цілі та числа з рухомою комою можна переписати арифметикою.
  - Python 3 автоматично перетворює цілі числа на плаваючі значення за необхідністю.

```python
print('half is', 1 / 2.0)
print('3 у квадраті, це', 3.0 ** 2)
```

```output
half is 0.5
three squared is 9.0
```

## Змінні змінюють значення тільки тоді, коли це значення присвоєно їм.

- Якщо ми зробимо одну комірку в таблиці залежить від іншої,
  і оновити останнє,
  колишнє оновлення автоматично.
- Це **не** стається на мовах програмування.

```python
variable_one = 1
variable_2 = 5 * variable_one
variable_one = 2
print('first is', variable_one, 'та second is', variable_two)
```

```output
перший буде 2, а другий - 5
```

- Комп'ютер читає значення `variable_one` при множенні,
  створює нове значення і призначає значення `variable_two`.
- Після цього, значення `variable_two` встановлено на нове значення і _не залежить від значення `variable_one`_, отже його значення
  не змінюється автоматично, коли `variable_one` змінюється.

:::::::::::::::::::::::::::::::::::::::::::: виклик

## Дроби

Який тип значення дорівнює 3.4?
Як ви можете дізнатися?

:::::::::::::::::::: Рішення

## Розв'язок

Це число з рухомою комою (часто скорочено "підлогу").
Можна дізнатися, використовуючи вбудовану функцію `type()`.

```python
print(type(3.4))
```

```output
<class 'float'>
```

:::::::::::::::::::::::::

::::::::::::::::::::::::::::::::::::::::::::::::::

:::::::::::::::::::::::::::::::::::::::::::: виклик

## Автоматичне перетворення типів

Який тип значення є 3.25 + 4?

:::::::::::::::::::: Рішення

## Розв'язок

Це float:
цілих чисел автоматично перетворюються на плаваючі за необхідністю.

```python
результат = 3.25 + 4
print(результат, 'is', type(результат))
```

```output
7.25 is <class 'float'>
```

:::::::::::::::::::::::::

::::::::::::::::::::::::::::::::::::::::::::::::::

:::::::::::::::::::::::::::::::::::::::::::: виклик

## Виберіть тип

What type of value (integer, floating point number, or character string)
would you use to represent each of the following?  Спробуйте знайти більш ніж одну гарну відповідь для кожної проблеми.  Наприклад, через # 1, коли буде раховувати дні змінною з плаваючою точкою має більше сенсу, ніж використовувати ціле число?

1. Кількість днів з початку року.
2. Час минув від початку року до сьогоднішнього дня.
3. Серійний номер лабораторного обладнання.
4. Вік лабораторного зразка
5. Поточне населення міста.
6. Середнє населення міста з плином часу.

:::::::::::::::::::: Рішення

## Розв'язок

Відповіді на запитання:

1. Цілочисельник, відколи число днів буде лежати від 1 до 365.

2. Потрібна рухома точка з дробовим днем

3. Рядок символу, якщо серійний номер містить букви і цифри, в іншому випадку ціле число складається лише з чисел, які складаються

4. Це буде важе! Як визначити віку зразка? цілий день з колекції (ціле число)? дата і час (рядок)?

5. Виберіть точку, яка буде представляти населення у вигляді великих агрегатів (наприклад мільйони) або цілого числа, щоб представляти групу в окремих одиницях.

6. Число з рухомою комою, оскільки середня точка ймовірно матиме дробову частину.

:::::::::::::::::::::::::

::::::::::::::::::::::::::::::::::::::::::::::::::

:::::::::::::::::::::::::::::::::::::::::::: виклик

## Типи дивізіону

У Python 3 операторі `//` виконує ціле число символів (цілий номер) поділу підлог, оператор `/` виконає виконання floating-point
division, і оператор `%` (або _modulo_) вираховує і повертає залишок від цілого розділу:

```python
print('5 // 3:', 5 // 3)
print('5 / 3:', 5 / 3)
print('5 % 3:', 5 % 3)
```

```output
5 // 3: 1
5 / 3: 1.66666666666667
5 % 2
```

If `num_subjects` is the number of subjects taking part in a study,
and `num_per_survey` is the number that can take part in a single survey,
write an expression that calculates the number of surveys needed
to reach everyone once.

:::::::::::::::::::: Рішення

## Розв'язок

Ми хочемо, щоб мінімальна кількість опитувань досягла кожного разу, а це
кількість підкругленої у розмірі `num_subjects/ num_per_survey`. This is
equivalent to performing a floor division with `//` and adding 1. Перед відділом
нам потрібно відняти 1 від кількості тем, щоб працювати з
випадком, коли `num_subjects` рівно ділиться на `num_per_survey`.

```python
num_subjects = 600
num_per_survey = 42
num_surveys = (num_subjects - 1) // num_per_survey + 1

print(num_subjects, 'subjects,'subjects,', num_per_survey, 'per survey:', num_surveys)
```

```output
600 предметів, 42 за опитування: 15
```

:::::::::::::::::::::::::

::::::::::::::::::::::::::::::::::::::::::::::::::

:::::::::::::::::::::::::::::::::::::::::::: виклик

## Рядки по числах

Де розумно, `float()` перетворить рядок у номер плаваючої точки,
та `int()` перетворить плаваюче число в ціле число:

```python
print("string to float:", float("3.4"))
print("float to int:", int(3.4))
```

```output
стрічка для float: 3.4
float tint: 3
```

Якщо перетворення не має сенсу, то станеться повідомлення про помилку.

```python
print("string to float:", float("Привіт, світ!"))
```

```error
---------------------------------------------------------------------------
ValueError Traceback (останній виклик)
<ipython-input-5-df3b790bf0a2> в <module>
----> 1 друк ("рядок до float:", флота("Світ вітання! )) Значення

не вдалося перетворити рядок в float: 'Привіт світ!'
```

Маючи цю інформацію, що ви очікуєте від цієї програми?

Що ж насправді робить?

Чому, на твою думку, це робить?

```python
print("fractional string to int:", int("3.4"))
```

:::::::::::::::::::: Рішення

## Розв'язок

Що ви очікуєте від цієї програми? Нерозумно очікувати, що команда Python 3 `int` буде встановлена в
перетворити рядок "3. " до 3.4 і додатковий тип перетворення на 3. Зрештою, Python 3 виконує багато інших
magic - хіба це не частина його chart?

```python
int("3.4")
```

```output
---------------------------------------------------------------------------
ValueError Traceback (останній виклик)
<ipython-input-2-ec6729dfccdc> в <module>
----> 1 int("3. ")
Помилка значення: неприпустимий літерал для int() з базовими 10: '3.4'
```

Однак Python 3 кидає помилку. Чому? Щоб бути послідовним, можливо, можливо. Якщо ви попросите Python виконувати два послідовних
типів, ви повинні перетворити це явно у код.

```python
int(float("3.4"))
```

```output
3
```

:::::::::::::::::::::::::

::::::::::::::::::::::::::::::::::::::::::::::::::

:::::::::::::::::::::::::::::::::::::::::::: виклик

## Арифметика з різними типами

Яке з наступних значень поверне число з плаваючої точки `2.0`?
Примітка: може бути кілька правих відповідей.

```python
first = 1.0
секунду = "1"
третій = "1.1"
```

1. `first + float(second)`
2. `float(second) + float(третьо)`
3. `перший + int(третя)`
4. `first + int(float(third)`
5. `int(перший) + int(float(3, 3))`
6. `2.0 * секунда`

:::::::::::::::::::: Рішення

## Розв'язок

Відповідь: 1 і 4

:::::::::::::::::::::::::

::::::::::::::::::::::::::::::::::::::::::::::::::

:::::::::::::::::::::::::::::::::::::::::::: виклик

## Складні числа

Python надає складні числа,
, які записані як `1.0+2.0j`.
If `val` is a complex number,
its real and imaginary parts can be accessed using _dot notation_
as `val.real` and `val.imag`.

```python
a_complex_number = 6 + 2j
print(a_complex_number.real)
print(a_complex_number.imag)
```

```output
6.0
2.0
```

1. Чому ви думаєте, що Python використовує `j` замість `i` для уявної частини?
2. Що ви очікуєте `1 + 2j + 3` щоб виробити?
3. Чого ви очікуєте за `4j`?  А як щодо `4 j` чи `4 + j`?

:::::::::::::::::::: Рішення

## Розв'язок

1. Стандартні математичні методи зазвичай використовують `i` для позначення уявного числа. However, from media reports it
   was an early convention established from electrical engineering that now presents a technically expensive area to
   change. Stack Overflow provides additional explanation and
   discussion.

2. `(4+2j)`

3. `4j` і `синтаксична помилка: неприпустимий синтаксис`. В останніх випадках `j` вважається змінною і оператором
   залежить від того, якщо `j` визначений та якщо це так, його призначене значення.

:::::::::::::::::::::::::

::::::::::::::::::::::::::::::::::::::::::::::::::

:::::::::::::::::::::::::::::::::::::::: keypoints

- Кожне значення має тип.
- Використайте вбудовану функцію `type`, щоб знайти тип значення.
- Типи контролюють те, що операції можуть бути виконані для значень.
- Рядки можна додавати і розмножувати.
- Рядки мають довжину (але цифри не тоні).
- Необхідно перетворити числа в рядки або навпаки.
- Дозволяє вільно змішувати цілі числа і плавати в операціях.
- Змінні змінюють значення тільки тоді, коли це значення присвоєно їм.

::::::::::::::::::::::::::::::::::::::::::::::::::
