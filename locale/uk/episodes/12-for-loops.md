---
title: Цикли For
teaching: 10
exercises: 15
---

::::::::::::::::::::::::::::::::::::::: objectives

- Пояснити, що для циклів зазвичай використовуються.
- Спостерігати за виконанням простого (невкладеного) циклу і правильно визначати значення змінних в кожній ітерації.
- Запис циклів, які використовують шаблон Акумулятора для сукупних значень.

::::::::::::::::::::::::::::::::::::::::::::::::::

::::::::::::::::::::::::::::::::::::::::::::: питань

- Як зробити програму багато речей?

::::::::::::::::::::::::::::::::::::::::::::::::::

## _для циклу_ виконує команди один раз для кожного значення в колекції.

- Робити розрахунки по значеннях у списку один за одним
  є болісним, як це працює з `pressure_001`, `pressure_002`, etc.
- _для циклу_ повідомляє Python виконувати деякі команди для кожного значення у списку,
  символьний рядок,
  або іншої колекції.
- "Для кожної речі в групі, виконувати ці операції"

```python
для числа в [2, 3, 5]:
    print(number)
```

- Цей цикл `for` еквівалентний для:

```python
print(2)
print(3)
print(5)
```

- А результат циклу `for`:

```output
2
3
5
```

## Цикл `for` складається з колекції, змінної циклу і тіла.

```python
для числа в [2, 3, 5]:
    print(number)
```

- Колекція `[2, 3, 5]`, це те, на чому запускається цикл.
- Тіло, `print(number)`, вказує, що робити для кожного значення у колекції.
- Змінна циклу, `number`, це те, що змінюється для кожної _ітерації_ циклу.
  - Нинішня річ.

## Перший рядок циклу `for` має закінчуватися двокрапкою, і тіло має бути відступом.

- Двокрапка в кінці першого рядка сигналізує про початок _блок_ команд.
- Python використовує відступи, а не `{}` або `begin`/`end`, щоб показати _вкладення_.
  - Будь-яка послідовна відстуність є законною, але майже всі користуються чотирма пробілами.

```python
для числа в [2, 3, 5]:
print(number)
```

```error
Помилка відступу: очікувався вкладений блок
```

- Відступ завжди значить у Python.

```python
firstName = "Jon"
  lastName = "Смайл"
```

```error
  Файл "<ipython-input-7-f65f2962bf9c>", рядок 2
    lastName = "Smith"
    ^
відступ : неочікуваний відступ
```

- Ця помилка може бути виправлена шляхом видалення зайвих прогалин
  на початку другої лінії.

## Змінні циклу можна назвати що завгодно.

- Як і всі змінні, змінні циклу:
  - Створено на вимогу.
  - Тим не значення: їх імена можуть бути будь-що взагалі.

```python
для кошеня в [2, 3, 5]:
    print(kitten)
```

## Тіло циклу може містити багато команд.

- Але цикл не повинен бути довгим декількох ліній.
- Важко для людських істот пам’ятати про більші шматочки коду.

```python
primes = [2, 3, 5]
for p in primes:
    squared = p ** 2
    cubed = p ** 3
    print(p, squared, cubed)
```

```output
2 4 8
3 9 27
5 25 125
```

## Використайте "діапазон" для повторення послідовності чисел.

- Вбудована функція ["range\`](https://docs.python.org/3/library/stdtypes.html#range) створює послідовність чисел.
  - _Not_ a list: the numbers are produced on demand
    to make looping over large ranges more efficient.
- `діапазон(N)` є числами 0..N-1
  - Саме правові індекси списку або символьного рядка N довжин

```python
print('діапазон не є списком: range(0, 3)')
для числа поза діапазоном (0, 3):
    друку (число)
```

```output
a range is not a list: range(0, 3)
0
1
2
```

## Шаблон Акумулятора перетворює багато значень на один.

- Типовий шаблон в програмах до:
  1. Ініціалізуйте _акумулятор_ змінну до нуля, пустий рядок або порожній список.
  2. Оновити змінну зі списку значень з колекції.

```python
# Sum перші 10 цілих чисел.
всього = 0
для числа в діапазоні (10):
   всього = total + (число + 1)
printal)
```

```output
55
```

- Читати `total = total + (number + 1)` як:
  - Додати 1 до поточного значення змінної циклу `number`.
  - Додати це до поточного значення змінної акумулятора, `загалом`.
  - Призначте це загалом, замінивши поточне значення.
- Ми повинні додати `number + 1`, тому що `діапазон` видає 0..9, не 1..10.

:::::::::::::::::::::::::::::::::::::::::::: виклик

## Класифікація помилок

Чи є помилка відступів синтаксичною помилкою або помилкою runtime ?

:::::::::::::::::::: Рішення

## Розв'язок

Відступна помилка - синтаксична помилка. Програми з синтаксичними помилками не можуть бути запущені.
Програма з почнеться під час виконання програми, але буде кинута помилка в певних умовах.

:::::::::::::::::::::::::

::::::::::::::::::::::::::::::::::::::::::::::::::

:::::::::::::::::::::::::::::::::::::::::::: виклик

## Відстеження виконання

Створіть таблицю, яка показує кількість рядків, які виконуються під час виконання цієї програми,
та значення змінних після кожного рядка.

```python
total = 0
для символів в "tin":
    підсумок = всього + 1
```

:::::::::::::::::::: Рішення

## Розв'язок

| Без рядка | Змінні                   |
| --------- | ------------------------ |
| 1         | всього = 0               |
| 2         | total = 0 символів = 't' |
| 3         | total = 1 символ = 't'   |
| 2         | всього = 1 символ = 'і'  |
| 3         | всього = 2 символ = 'і'  |
| 2         | всього = 2 символ = 'n'  |
| 3         | total = 3 символ = 'n'   |

:::::::::::::::::::::::::

::::::::::::::::::::::::::::::::::::::::::::::::::

:::::::::::::::::::::::::::::::::::::::::::: виклик

## Reversing a String

Заповніть пропуски в програмі нижче для того, щоб він друкував "ніт"
(зворотній рядок вихідного символу "tin").

```python
original = "tin"
результат = ____
для символів в оригіналі:
    результат = ____
print(результат)
```

:::::::::::::::::::: Рішення

## Розв'язок

```python
original = "tin"
result = ""
for char in original:
    result = char + result
print(result)
```

:::::::::::::::::::::::::

::::::::::::::::::::::::::::::::::::::::::::::::::

:::::::::::::::::::::::::::::::::::::::::::: виклик

## Тренування на накопиченні

Заповніть пропуски по кожному з зазначених програм нижче
для створення зазначеного результату.

```python
# Загальна довжина рядків у списку: ["червоний", "зелений", "синій"] => 12
загальний = 0
для слова ["червоний", "green", "blue"]:
    ____ + len(word)
print(загалом)
```

:::::::::::::::::::: Рішення

## Розв'язок

```python
total = 0
for word in ["red", "green", "blue"]:
    total = total + len(word)
print(total)
```

:::::::::::::::::::::::::

```python
# Довжина слів: ["червоний", "зелений", "синій"] => [3, 5, 4]
довжиною = __
для слова в ["червоний", "зелений", "синій"]:
    довжини. ___(__)
print(довжина)
```

:::::::::::::::::::: Рішення

## Розв'язок

```python
lengths = []
для слова ["червоний", "зелений", "синій"]:
    lengths.append(len(word))
print(lengths)
```

:::::::::::::::::::::::::

```python
# Concatenate всі слова: ["червоний", "зелений", "синій"] => "redgreenblue"
words = ["червоний", "зелений", "blue"]
результат = __
для ____ в __:
    ____
print(результат)
```

:::::::::::::::::::: Рішення

## Розв'язок

```python
words = ["червоний", "зелений", "blue"]
результат = ""
для слова в словах:
    результат = результат + слово
print(результат)
```

:::::::::::::::::::::::::

**Створіть акронім:** Починаючи зі списку `["червоний", "зелений", "синій"]`, створіть акронім `"RGB"`, використовуючи
для циклу.

**Підказка:** Вам може знадобитися використовувати метод рядка для коректного форматування акроніму.

:::::::::::::::::::: Рішення

## Розв'язок

```python
acronym = ""
для слова ["червоний", "зелений", "синій"]:
    acronym = acronym + слово[0].upper()
print(acronym)
```

:::::::::::::::::::::::::

::::::::::::::::::::::::::::::::::::::::::::::::::

:::::::::::::::::::::::::::::::::::::::::::: виклик

## Сукупність сум

Reorder and properly indent the lines of code below
so that they print a list with the cumulative sum of data.
Результатом має бути `1, 3, 5, 10]`.

```python
cumulative.append(total)
for number in data:
cumulative = []
total = total + number
total = 0
print(cumulative)
data = [1,2,2,5]
```

:::::::::::::::::::: Рішення

## Розв'язок

```python
total = 0
data = [1,2,2,5]
cumulative = []
for number in data:
    total = total + number
    cumulative.append(total)
print(cumulative)
```

:::::::::::::::::::::::::

::::::::::::::::::::::::::::::::::::::::::::::::::

:::::::::::::::::::::::::::::::::::::::::::: виклик

## Визначення помилок імені змінної

1. Read the code below and try to identify what the errors are
   _without_ running it.
2. Запустіть код та прочитайте повідомлення про помилку.
   Який тип `NameError` вважаєте це?
   Is it a string with no quotes, a misspelled variable, or a
   variable that should have been defined but was not?
3. Виправ помилку.
4. Повторюйте кроки 2 та 3, поки ви не виправите всі помилки.

```python
for number in range(10):
    # use a if the number is a multiple of 3, otherwise use b
    if (Number % 3) == 0:
        message = message + a
    else:
        message = message + "b"
print(message)
```

:::::::::::::::::::: Рішення

## Розв'язок

- Імена змінних Python чутливі до регістру: `number` та `Number` вказують на різні змінні.
- Змінна `повідомлення` повинна бути ініціалізована як пустий рядок.
- Ми хочемо додати рядок `"a"` до `message`, не невизначена змінна `a`.

```python
message = ""
for number in range(10):
    # use a if the number is a multiple of 3, otherwise use b
    if (number % 3) == 0:
        message = message + "a"
    else:
        message = message + "b"
print(message)
```

:::::::::::::::::::::::::

::::::::::::::::::::::::::::::::::::::::::::::::::

:::::::::::::::::::::::::::::::::::::::::::: виклик

## Визначення помилок елемента

1. Read the code below and try to identify what the errors are
   _without_ running it.
2. Запустіть код та прочитайте повідомлення про помилку. Який тип помилки?
3. Виправ помилку.

```python
seasons = ['Spring', 'Summer', 'Fall', 'Winter']
print('Мій улюблений сезон, пора[4])
```

:::::::::::::::::::: Рішення

## Розв'язок

Цей список має 4 елементи і індекс для доступу до останнього елемента у списку становить `3`.

```python
seasons = ['Spring', 'Summer', 'Fall', 'Winter']
print('Мій улюблений сезон, пора[3])
```

:::::::::::::::::::::::::

::::::::::::::::::::::::::::::::::::::::::::::::::

:::::::::::::::::::::::::::::::::::::::: keypoints

- _для циклу_ виконує команди один раз для кожного значення в колекції.
- Цикл `for` складається з колекції, змінної циклу і тіла.
- Перший рядок циклу `for` має закінчуватися двокрапкою, і тіло має бути відступом.
- Відступ завжди значить у Python.
- Змінні циклу можна назвати будь-що (настійно рекомендується мати змістовне ім'я змінної).
- Тіло циклу може містити багато команд.
- Використайте "діапазон" для повторення послідовності чисел.
- Шаблон Акумулятора перетворює багато значень на один.

::::::::::::::::::::::::::::::::::::::::::::::::::
